# midi_pi

LT用に作成
まだ発展途上

### これなに？
# エレクトーン　かっこいいよね
ということで再現を目指しました。

## 機能
##### MIDIパーサー&プレイヤー  
 汎用性を目指したが結局ぐちゃぐちゃに(だって時間がなかったんだもん)  
 ~~エレクトーンを目指したので演奏するからいらないんじゃないかという話もあるけど（作者が演奏に対応していないのでごまかすために実装）~~  
 本当はMIDIでいろいろ制御出来ないかのテストをしたかった  
##### 7セグ
 Arduino担当　Raspi(C#)からSPIでコマンドを送信  
 基本は小節・拍の表示だがテンポが変わるときにテンポ表示となる＜これがかっこいい　というかこれがやりたかった  
 初期及び終了時はDPのみ点灯する仕様
##### LEDバー
 MIDIファイルから制御  
 MIDIのコントロールチェンジ#12の値に応じてLEDバーを光らせる  
##### ボタン
 最初は5つ並べたので32音出せると思っていたが作者が演奏できないことがわかり正しいタイミングで押したら音がなる仕様に変更  
 MIDIファイルCH1のデータのうちノートOFF、ノートONのベロシティーが1~5のノートをボタン1~5に対応させている。
##### CdSセル 
 最近のエレクトーンは鍵盤にセンサーが入っていて演奏者の微妙なニュアンスを音に反映させると聞いたので明るさに応じてCH1の音量（エクスプレッション）を変化させている  
 Arduinoで読み出しSPI通信経由でRaspiへ伝えている  
 しかし押しながら影を作るのが難しく実際には使わなかった  

## 今後の方針
 気が向いたらMIDIでいろいろ制御したい  
 その時には汎用的なMIDI制御ライブラリに変えます。